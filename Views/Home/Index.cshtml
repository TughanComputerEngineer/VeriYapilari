@model List<webapplication.Models.Team>

@{
    ViewData["Title"] = "Ana Sayfa";
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="css/home.css" />
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-title">
                <img src="images/logo.png" class="logo" />
                <h1>Veri Yapıları Spor Turnuvası Puan Sistemi</h1>
            </div>
            <div class="login-links">
                <button onclick="location.href='kullanici-giris.html'" class="login-button">Kullanıcı Girişi</button>
                <button onclick="location.href='admin-giris.html'" class="login-button">Admin Girişi</button>
                <img src="images/login-1.png" class="login-icon" alt="Login Icon" />
            </div>
        </div>

        <div class="main-content">
            <div class="left-panel">
                <div class="search-bar">
                    <img src="images/search.png" class="search-icon" />
                    <input type="text" placeholder="Bir Takım Ara..." id="aramaKutusu" />
                </div>

                <div class="team-table">
                    <div class="table-header">
                        <span>Sıra</span>
                        <span>Takım Adı</span>
                        <span>Son 5 Maç</span>
                        <span>Puan</span>
                        <span></span>
                    </div>
                    <div id="takim-listesi">
                        @for (int i = 0; i < Model.Count; i++)
                        {
                            var takim = Model[i];
                            <div class="team-row">
                                <span>@(i + 1)</span>
                                <span>@takim.Name</span>
                                <span>
                                    @foreach (var sonuc in takim.Last5Match)
                                    {
                                        string renk = sonuc switch
                                        {
                                            "W" => "win",
                                            "L" => "loss",
                                            "D" => "draw",
                                            _ => ""
                                        };
                                        <span class="@renk">@sonuc</span>
                                    }
                                </span>

                                <span>@takim.CurrentScore</span>
                                <span><img src="/images/emptystar-2.png" class="star-icon" /></span>
                            </div>
                        }
                    </div>
                </div>
            </div>

            <div class="right-panel">
                <h2>Favoriler</h2>
                @if (ViewBag.Favorites != null && ((List<webapplication.Models.Team>)ViewBag.Favorites).Any())
                {
                    foreach (var team in (List<webapplication.Models.Team>)ViewBag.Favorites)
                    {
                        <div class="favorite-team">
                            <span>@team.Name</span>
                            <span>Puan: @team.CurrentScore</span>
                        </div>
                    }
                }
                else
                {
                    <p>Lütfen giriş yapınız veya favori ekleyiniz...</p>
                }            
            </div>

            <div class="side-menu">
                <a href="home"><img src="/images/teams.png" class="side-icon active" title="Ana Sayfa" /></a>
                <a href="league"><img src="/images/tournament-1.png" class="side-icon" title="Turnuva" /></a>
            </div>
        </div>
    </div>

    <script src="js/home.js"></script>
</body>
</html>
